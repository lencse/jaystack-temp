!function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<41&&addEventListener("resize",function(){var t,n=document.createElement("source"),r=function(e){var t,r,i=e.parentNode;"PICTURE"===i.nodeName.toUpperCase()?(t=n.cloneNode(),i.insertBefore(t,i.firstElementChild),setTimeout(function(){i.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,r=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=r}))},i=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)r(t[e])},s=function(){clearTimeout(t),t=setTimeout(i,99)},a=e.matchMedia&&matchMedia("(orientation: landscape)"),o=function(){s(),a&&a.addListener&&a.addListener(s)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?o():document.addEventListener("DOMContentLoaded",o),s}())}(window),window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],r=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),r="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===r.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(e,t){"use strict";function n(e){var t,n,r,s,a,o;e=e||{},t=e.elements||i.getAllElements();for(var c=0,d=t.length;d>c;c++)if(n=t[c],r=n.nodeName.toUpperCase(),s=void 0,a=void 0,o=void 0,n[i.ns]||(n[i.ns]={}),e.reevaluate||!n[i.ns].evaluated){if("PICTURE"===r){if(i.removeVideoShim(n),s=i.getMatch(n),s===!1)continue;o=n.getElementsByTagName("img")[0]}else s=void 0,o=n;o&&(o[i.ns]||(o[i.ns]={}),o.srcset&&("PICTURE"===r||o.getAttribute("sizes"))&&i.dodgeSrcset(o),s?(a=i.processSourceSet(s),i.applyBestCandidate(a,o)):(a=i.processSourceSet(o),(void 0===o.srcset||o.getAttribute("sizes"))&&i.applyBestCandidate(a,o)),n[i.ns].evaluated=!0)}}function r(){n();var r=setInterval(function(){return e.picturefill(),/^loaded|^i|^c/.test(t.readyState)?void clearInterval(r):void 0},250);if(e.addEventListener){var i;e.addEventListener("resize",function(){e.clearTimeout(i),i=e.setTimeout(function(){n({reevaluate:!0})},60)},!1)}}if(!e.HTMLPictureElement){t.createElement("picture");var i={};i.ns="picturefill",i.srcsetSupported=void 0!==(new e.Image).srcset,i.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},i.endsWith=function(e,t){return e.endsWith?e.endsWith(t):-1!==e.indexOf(t,e.length-t.length)},i.matchesMedia=function(t){return e.matchMedia&&e.matchMedia(t).matches},i.getDpr=function(){return e.devicePixelRatio||1},i.getWidthFromLength=function(e){return e=e&&parseFloat(e)>0?e:"100vw",e=e.replace("vw","%"),i.lengthEl||(i.lengthEl=t.createElement("div"),t.documentElement.insertBefore(i.lengthEl,t.documentElement.firstChild)),i.lengthEl.style.cssText="position: absolute; left: 0; width: "+e+";",i.lengthEl.offsetWidth},i.types={},i.types["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),i.types["image/webp"]=function(){var t=new e.Image,r="image/webp";t.onerror=function(){i.types[r]=!1,n()},t.onload=function(){i.types[r]=1===t.width,n()},t.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},i.verifyTypeSupport=function(e){var t=e.getAttribute("type");return null===t||""===t?!0:"function"==typeof i.types[t]?(i.types[t](),"pending"):i.types[t]},i.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}},i.findWidthFromSourceSize=function(e){for(var t,n=i.trim(e).split(/\s*,\s*/),r=0,s=n.length;s>r;r++){var a=n[r],o=i.parseSize(a),c=o.length,d=o.media;if(c&&(!d||i.matchesMedia(d))){t=c;break}}return i.getWidthFromLength(t)},i.getCandidatesFromSourceSet=function(e,t){for(var n=i.trim(e).split(/,\s+/),r=t?i.findWidthFromSourceSize(t):"100%",s=[],a=0,o=n.length;o>a;a++){var c,d=n[a],u=d.split(/\s+/),l=u[1];!l||"w"!==l.slice(-1)&&"x"!==l.slice(-1)||(l=l.slice(0,-1)),c=t?parseFloat(parseInt(l,10)/r):l?parseFloat(l,10):1;var m={url:u[0],resolution:c};s.push(m)}return s},i.dodgeSrcset=function(e){e.srcset&&(e[i.ns].srcset=e.srcset,e.removeAttribute("srcset"))},i.processSourceSet=function(e){var t=e.getAttribute("srcset"),n=e.getAttribute("sizes"),r=[];return"IMG"===e.nodeName.toUpperCase()&&e[i.ns]&&e[i.ns].srcset&&(t=e[i.ns].srcset),t&&(r=i.getCandidatesFromSourceSet(t,n)),r},i.applyBestCandidate=function(e,t){var n,r,s;e.sort(i.ascendingSort),r=e.length,s=e[r-1];for(var a=0;r>a;a++)if(n=e[a],n.resolution>=i.getDpr()){s=n;break}i.endsWith(t.src,s.url)||(t.src=s.url,t.currentSrc=t.src)},i.ascendingSort=function(e,t){return e.resolution-t.resolution},i.removeVideoShim=function(e){var t=e.getElementsByTagName("video");if(t.length){for(var n=t[0],r=n.getElementsByTagName("source");r.length;)e.insertBefore(r[0],n);n.parentNode.removeChild(n)}},i.getAllElements=function(){for(var e=t.getElementsByTagName("picture"),n=[],r=t.getElementsByTagName("img"),s=0,a=e.length+r.length;a>s;s++)if(s<e.length)n[s]=e[s];else{var o=r[s-e.length];"PICTURE"!==o.parentNode.nodeName.toUpperCase()&&(i.srcsetSupported&&o.getAttribute("sizes")||null!==o.getAttribute("srcset"))&&n.push(o)}return n},i.getMatch=function(e){for(var t,n=e.childNodes,r=0,s=n.length;s>r;r++){var a=n[r];if(1===a.nodeType){if("IMG"===a.nodeName.toUpperCase())return t;if("SOURCE"===a.nodeName.toUpperCase()){var o=a.getAttribute("media");if(a.getAttribute("srcset")&&(!o||i.matchesMedia(o))){var c=i.verifyTypeSupport(a);if(c===!0){t=a;break}if("pending"===c)return!1}}}}return t},r(),n._=i,"object"==typeof module&&"object"==typeof module.exports?module.exports=n:"object"==typeof define&&define.amd?define(function(){return n}):"object"==typeof e&&(e.picturefill=n)}}(this,this.document);
